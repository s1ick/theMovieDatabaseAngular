@if (recommendations().length === 0) {
  <div class="p-4 text-gray-500 text-center">
    <div class="text-4xl mb-2 text-gray-300">üé¨</div>
    <p>Add more movies to favorites to get recommendations</p>
  </div>
} @else {
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
    @for (movie of recommendations(); track movie.id) {
      <div
        class="cursor-pointer border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow h-full flex flex-col bg-white"
        (click)="onSelectMovie(movie.id)">

        <img
          [src]="getImageSource(movie)"
          [alt]="movie.title"
          class="w-full h-48 object-cover"
          (error)="onImageError($event, movie)">

        <div class="p-4 flex-grow">
          <h3 class="font-medium line-clamp-2 text-gray-900">{{ movie.title }}</h3>
          <p class="text-sm text-gray-600 mt-1">{{ movie.year }}</p>

          @if (movie.genre) {
            <span class="inline-block px-2 py-1 text-xs text-gray-500 bg-gray-100 rounded mt-1">
              {{ getFirstGenre(movie.genre) }}
            </span>
          }
        </div>

        <div class="p-3 border-t border-gray-200">
          <button
            (click)="onAddFavorite(movie, $event)"
            class="w-full flex items-center justify-center gap-2 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium">
            <span>‚ù§Ô∏è</span>
            Add to Favorites
          </button>
        </div>
      </div>
    }
  </div>
}
